<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Cửa hàng</title>
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/sanpham.css">
  <link rel="stylesheet" href="css/bocuc.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <link rel="stylesheet" href="css/style.css">


<body>
  <!-- Than -->
  <div class="than">
    <!-- Thanh tren -->
    <div class="tieu-de" include-html="/components/header.html">
    </div>

    <div class="noi_dung">
      <div id="ds-orders">
        <table class="w-full text-left text-sm text-gray-500 dark:text-gray-400">
          <thead class="bg-gray-50 text-xs uppercase text-gray-700 dark:bg-gray-700 dark:text-gray-400">
            <tr>
              <th scope="col" class="px-6 py-3">ID</th>
              <th scope="col" class="px-6 py-3">Ngày</th>
              <th scope="col" class="px-6 py-3">SĐT</th>
              <th scope="col" class="px-6 py-3">Địa chỉ</th>
              <th scope="col" class="px-6 py-3">Tổng</th>
              <th scope="col" class="px-6 py-3">Trang thái</th>
              <th scope="col" class="px-6 py-3">
                <span class="sr-only">Edit</span>
              </th>
            </tr>
          </thead>
          <tbody id="listOrder">
                   
          </tbody>
        </table>
      </div>
    </div>
  </div>
  </div>
  <script src="js/config.js"></script>
  <script src="js/service.js"></script>
  <script src="js/sanpham.js"></script>
  <script src="js/script.js"></script>
  <script src="js/chung.js"></script>
</body>

<script>

  function domOrder(order) {
    const dsOrder = document.getElementById("listOrder");
    dsOrder.innerHTML += `
      <tr class="border-b bg-white hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-600">
              <th scope="row" class="whitespace-nowrap px-6 py-4 font-medium text-gray-900 dark:text-white">${order.id}</th>
              <td class="px-6 py-4">${order.createdAt}</td>
              <td class="px-6 py-4">${order.phone}</td>
              <td class="px-6 py-4">${order.address}</td>
              <td class="px-6 py-4">${order.total}</td>           
              <td class="px-6 py-4">${order.phone}</td>           
              <td class="px-6 py-4 text-right">
                <a href="/donhang.html?id=${order.id}" class="font-medium text-blue-600 hover:underline dark:text-blue-500">Xem</a>
              </td>
            </tr>    
    `
  }


  async function loadOrder() {
    console.log("loadOrder");
    const orders = await getOrderService();
    console.log("Order", orders);
    orders.forEach(order => {
      domOrder(order);
    });
  }
  loadOrder();
</script>

</html>